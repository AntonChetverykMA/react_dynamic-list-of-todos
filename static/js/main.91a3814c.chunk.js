(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],[,,,,,,,,,function(e,t,s){e.exports=s(18)},,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var r=s(0),n=s.n(r),a=s(6),c=s.n(a),o=s(1),l=s(2),u=s(4),i=s(3),d=(s(14),s(15),s(8)),p=(s(16),s(7)),m=s.n(p);function h(e){var t=e.todo,s=t.id,r=t.title,a=t.userId,c=t.completed,o=e.setSelectedUserId,l=e.setPressedUserBtn,u=e.pressedUserBtn;return n.a.createElement("li",{className:"TodoList__item ".concat(c?"TodoList__item--checked":"TodoList__item--unchecked"),key:s},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:c,readOnly:!0}),n.a.createElement("p",null,r)),n.a.createElement("button",{className:m()("TodoList__user-button",{"TodoList__user-button--selected":u===s},"button"),type:"button",onClick:function(){l(s),o(a)}},"User #".concat(a)))}h.defaultProps={todo:{},pressedUserBtn:0};var f=["all","active","completed"],v=function(e){Object(u.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={search:"",selected:"all"},e.filtredList=function(){var t=e.props.todos,s=e.state,r=s.search,n=s.selected;if(t){var a=Object(d.a)(t);return"active"===n&&(a=a.filter((function(e){return e.title&&!e.completed}))),"completed"===n&&(a=a.filter((function(e){return e.title&&e.completed}))),a.filter((function(e){return e.title&&e.title.includes(r)}))}return[]},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.setSelectedUserId,r=t.pressedUserBtn,a=t.setPressedUserBtn,c=this.state,o=c.search,l=c.selected,u=this.filtredList();return n.a.createElement("div",{className:"TodoList"},n.a.createElement("h2",null,"Todos:"),n.a.createElement("input",{type:"text",value:o,placeholder:"search",onChange:function(t){return e.setState({search:t.target.value})}}),n.a.createElement("select",{name:"select",value:l,onChange:function(t){return e.setState({selected:t.target.value})}},f.map((function(e){return n.a.createElement("option",{key:e},e)}))),n.a.createElement("div",{className:"TodoList__list-container"},n.a.createElement("ul",{className:"TodoList__list"},u.length>0?u.map((function(e){return n.a.createElement(h,{todo:e,setSelectedUserId:s,pressedUserBtn:r,setPressedUserBtn:a,key:e.id})})):"No todos")))}}]),s}(n.a.Component);v.defaultProps={todos:[],pressedUserBtn:0};s(17);var U=function(e,t){return fetch("".concat("https://mate-api.herokuapp.com/").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()}))},E=function(e){Object(u.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={user:null,error:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.userId;this.getUser(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.userId;e.userId!==this.props.userId&&this.updateuser(t)}},{key:"componentWillUnmount",value:function(){console.log("cwu")}},{key:"getUser",value:function(e){var t=this;U("users/".concat(e)).then((function(e){e.data?t.setState({user:e.data,error:!1}):t.setState({user:{},error:!0})}))}},{key:"updateuser",value:function(e){this.setState({user:null}),this.getUser(e)}},{key:"renderUser",value:function(e){var t=this.props,s=t.setSelectedUserId,r=t.setPressedUserBtn;return this.state.error?"Such user does not exist":n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"CurrentUser__title"},n.a.createElement("span",null,"Selected user:\xa0",this.props.userId)),n.a.createElement("h3",{className:"CurrentUser__name"},e.name),n.a.createElement("p",{className:"CurrentUser__email"},e.email),n.a.createElement("p",{className:"CurrentUser__phone"},e.phone),n.a.createElement("button",{type:"button",className:"clear-btn",onClick:function(){s(0),r(0)}},"Clear"))}},{key:"render",value:function(){var e=this.state.user;return n.a.createElement("div",{className:"CurrentUser"},e?this.renderUser(e):n.a.createElement("div",{className:"loading"},"Loading..."))}}]),s}(n.a.Component);E.defaultProps={userId:0};var _=function(e){Object(u.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={todos:[],selectedUserId:2,pressedUserBtn:0},e.setSelectedUserId=function(t){e.setState({selectedUserId:t})},e.setPressedUserBtn=function(t){e.setState({pressedUserBtn:t})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;U("todos").then((function(t){return e.setState({todos:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.todos,s=e.selectedUserId,r=e.pressedUserBtn;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"App__sidebar"},n.a.createElement(v,{todos:t,selectedUserId:s,setSelectedUserId:this.setSelectedUserId,pressedUserBtn:r,setPressedUserBtn:this.setPressedUserBtn})),n.a.createElement("div",{className:"App__content"},n.a.createElement("div",{className:"App__content-container"},s?n.a.createElement(E,{userId:s,setSelectedUserId:this.setSelectedUserId,setPressedUserBtn:this.setPressedUserBtn}):"No user selected")))}}]),s}(n.a.Component);c.a.render(n.a.createElement(_,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.91a3814c.chunk.js.map